{"version":3,"file":"comment.js","sources":["../script/cssAndJsArr.js","../script/define.js","../script/lcps.js","../script/index.js"],"sourcesContent":["const { css_urls, js_urls } = {\n\t\"css_urls\": [\n\t\t\"//fm.aodianyun.com/qes+/dist/css/app.css\",\n\t\t\"//fm.aodianyun.com/qes+/dist/css/chunk-vendors.css\"\n\t],\n\t\"js_urls\": [\n\t\t\"//fm.aodianyun.com/qes+/dist/js/app.js\",\n\t\t\"//fm.aodianyun.com/qes+/dist/js/chunk-vendors.js\",\n\t\t\"//fm.aodianyun.com/qes+/dist/js/comment.js\",\n\t\t\"//fm.aodianyun.com/qes+/dist/js/nces.js\"\n\t]\n}\nexport { css_urls, js_urls }","var define = (function() {\r\n    var load_count = 0\r\n    var load_jsqueue = []\r\n    var load_cb\r\n    function IEVersion() {\r\n      var userAgent = navigator.userAgent //取得浏览器的userAgent字符串\r\n      var isIE =\r\n        userAgent.indexOf('compatible') > -1 && userAgent.indexOf('MSIE') > -1 //判断是否IE<11浏览器\r\n      var isEdge = userAgent.indexOf('Edge') > -1 && !isIE //判断是否IE的Edge浏览器\r\n      var isIE11 =\r\n        userAgent.indexOf('Trident') > -1 && userAgent.indexOf('rv:11.0') > -1\r\n      if (isIE) {\r\n        var reIE = new RegExp('MSIE (\\\\d+\\\\.\\\\d+);')\r\n        reIE.test(userAgent)\r\n        var fIEVersion = parseFloat(RegExp['$1'])\r\n        if (fIEVersion == 7) {\r\n          return 7\r\n        } else if (fIEVersion == 8) {\r\n          return 8\r\n        } else if (fIEVersion == 9) {\r\n          return 9\r\n        } else if (fIEVersion == 10) {\r\n          return 10\r\n        } else {\r\n          return 6 //IE版本<=7\r\n        }\r\n      } else if (isIE11) {\r\n        return 11 //IE11\r\n      } else if (isEdge) {\r\n        return 'edge' //edge\r\n      } else {\r\n        return -1 //不是ie浏览器\r\n      }\r\n    }\r\n\r\n    function loadFinished() {\r\n      load_count++\r\n      if (load_count < load_jsqueue.length) {\r\n        loadScript()\r\n        return\r\n      }\r\n      load_cb()\r\n    }\r\n\r\n    function loadError(oError) {\r\n      console.error('The url ' + oError.target.src + ' is not accessible.')\r\n    }\r\n    function loadScript() {\r\n      var url = load_jsqueue[load_count]\r\n      var script = document.createElement('script')\r\n      if (url.search(/-jsx/) != -1) {\r\n        script.type = 'text/babel'\r\n      } else {\r\n        script.type = 'text/javascript'\r\n      }\r\n      if (script.readyState) {\r\n        //IE\r\n        script.onreadystatechange = function() {\r\n          if (\r\n            script.readyState == 'loaded' ||\r\n            script.readyState == 'complete'\r\n          ) {\r\n            script.onreadystatechange = null\r\n            loadFinished()\r\n          }\r\n        }\r\n      } else {\r\n        //Others\r\n        script.onload = function() {\r\n          loadFinished()\r\n        }\r\n      }\r\n      script.onerror = loadError\r\n      script.src = url\r\n      ;(\r\n        document.getElementsByTagName('body')[0] ||\r\n        document.getElementsByTagName('head')[0]\r\n      ).appendChild(script)\r\n    }\r\n    function loadCss(urls) {\r\n      if (!urls || urls.length === 0) {\r\n        throw new Error('argument \"path\" is required !')\r\n      }\r\n      for (var i = 0; i < urls.length; i++) {\r\n        var head = document.getElementsByTagName('head')[0]\r\n        var link = document.createElement('link')\r\n        link.href = urls[i]\r\n        link.rel = 'stylesheet'\r\n        link.type = 'text/css'\r\n        head.appendChild(link)\r\n        link.onerror = loadError\r\n      }\r\n    }\r\n\r\n    function loadMultiScript(urls, cb) {\r\n      load_count = 0\r\n      load_jsqueue = urls\r\n      load_cb = cb || function() {}\r\n      loadScript()\r\n    }\r\n    return {\r\n      js: loadMultiScript,\r\n      css: loadCss,\r\n      ie: IEVersion\r\n    }\r\n  })()\r\n  export default define","import { css_urls, js_urls } from './cssAndJsArr'\r\nimport define from './define'\r\nconst initRootHost = () => {\r\n  const getScriptSrc = srcName => {\r\n    const scripts = document.getElementsByTagName('script')\r\n    for (let i = scripts.length - 1; i >= 0; i--) {\r\n      const scriptSrc = scripts[i].getAttribute('src')\r\n      if (scriptSrc.includes(srcName)) {\r\n        return scriptSrc\r\n      }\r\n    }\r\n    return ''\r\n  }\r\n  const getRootHost = scriptSrc => {\r\n    if (scriptSrc === '') {\r\n      return ''\r\n    }\r\n    const reg = /\\/\\/([^/]*?)\\//\r\n    const host = reg.exec(scriptSrc)\r\n    const isIP = /\\d+.\\d+.\\d+.\\d+:\\d+/.test(host)\r\n    if (!host || host.length < 2 || isIP) {\r\n      return ''\r\n    }\r\n    const splitArr = host[1].split('.')\r\n    const len = splitArr.length\r\n    if (len < 2) {\r\n      console.log(splitArr)\r\n      return ''\r\n    } else {\r\n      return `${splitArr[len - 2]}.${splitArr[len - 1]}`\r\n    }\r\n  }\r\n  window.appointConfig = {\r\n    ROOT_HOST: getRootHost(getScriptSrc('comment.js')) || 'aodianyun.com',\r\n    STATIC_PROTOCOL: /https/i.test(window.location.href) ? 'https:' : 'http:'\r\n  }\r\n}\r\ninitRootHost()\r\nexport default class lcps {\r\n  constructor() {}\r\n  Config(options) {\r\n    for (var key in options) {\r\n      this[key] = options[key]\r\n    }\r\n  }\r\n  Init() {\r\n    define.js(js_urls, function() {})\r\n    define.css(css_urls, function() {})\r\n  }\r\n}\r\n","import lcps from './lcps'\r\nexport default new lcps()"],"names":["css_urls","js_urls","define","load_count","load_jsqueue","load_cb","IEVersion","userAgent","navigator","isIE","indexOf","isEdge","isIE11","reIE","RegExp","test","fIEVersion","parseFloat","loadFinished","length","loadScript","loadError","oError","console","error","target","src","url","script","document","createElement","search","type","readyState","onreadystatechange","onload","onerror","getElementsByTagName","appendChild","loadCss","urls","Error","i","head","link","href","rel","loadMultiScript","cb","js","css","ie","initRootHost","getScriptSrc","srcName","scripts","scriptSrc","getAttribute","includes","getRootHost","reg","host","exec","isIP","splitArr","split","len","log","window","appointConfig","ROOT_HOST","STATIC_PROTOCOL","location","lcps","options","key"],"mappings":"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"}